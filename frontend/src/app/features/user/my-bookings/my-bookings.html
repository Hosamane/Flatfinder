<!-- <div class="p-8">

  <h2 class="text-2xl font-bold mb-6">My Booking History</h2>

  <div *ngIf="loading" class="text-gray-500">
    Loading bookings...
  </div>


  <div *ngIf="errorMessage" class="text-red-500 mb-4">
  {{ errorMessage }}
</div>

  <div *ngIf="!loading && bookings.length === 0"
       class="text-gray-500">
    No bookings found.
  </div>

  <div *ngFor="let booking of bookings"
       class="bg-white p-6 rounded-xl shadow mb-4">

    <h3 class="text-lg font-semibold">
      Unit: {{ booking.unit_code }}
    </h3>

    <p class="text-sm text-gray-600">
      {{ booking.lease_start }} ‚Üí {{ booking.lease_end }}
    </p>

    <p class="mt-2">
      Rent: ‚Çπ{{ booking.rent_snapshot }}
    </p>

    <span
      class="inline-block mt-3 px-3 py-1 rounded-full text-sm"
      [ngClass]="{
        'bg-yellow-100 text-yellow-700': booking.status === 'PENDING',
        'bg-green-100 text-green-700': booking.status === 'APPROVED',
        'bg-red-100 text-red-700': booking.status === 'REJECTED'
      }">

      {{ booking.status }}

    </span>

  </div>

</div> -->



<div class="max-w-4xl mx-auto p-6 md:p-10 min-h-screen bg-slate-50/50">
  
  <div class="flex items-center justify-between mb-10">
    <div>
      <h2 class="text-3xl font-extrabold text-slate-900 tracking-tight">Booking History</h2>
      <p class="text-slate-500 mt-1">Manage and track your lease applications</p>
    </div>
    <div *ngIf="bookings.length > 0" class="hidden md:block">
      <span class="bg-white border border-slate-200 text-slate-600 px-4 py-2 rounded-lg text-sm font-medium shadow-sm">
        Total Bookings: {{ bookings.length }}
      </span>
    </div>
  </div>

  <div *ngIf="loading" class="flex flex-col items-center justify-center py-20">
    <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-4"></div>
    <p class="text-slate-400 font-medium">Syncing your history...</p>
  </div>

  <div *ngIf="errorMessage" class="bg-red-50 border border-red-100 text-red-600 p-4 rounded-xl flex items-center mb-6">
    <span class="mr-3 text-xl">‚ö†Ô∏è</span>
    {{ errorMessage }}
  </div>

  <div *ngIf="!loading && bookings.length === 0" 
       class="bg-white border-2 border-dashed border-slate-200 rounded-2xl py-20 px-6 text-center">
    <div class="text-5xl mb-4">üìÇ</div>
    <h3 class="text-lg font-semibold text-slate-900">No bookings yet</h3>
    <p class="text-slate-500 max-w-xs mx-auto mt-2">Your future home's history will appear here once you start an application.</p>
  </div>

  <div class="space-y-4">
    <div *ngFor="let booking of bookings"
         class="group bg-white border border-slate-100 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-200 flex flex-col md:flex-row md:items-center justify-between gap-6">
      
      <div class="flex items-start gap-4">
        <div class="h-12 w-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 shrink-0">
          <span class="font-bold">#</span>
        </div>
        
        <div>
          <h3 class="text-lg font-bold text-slate-800 group-hover:text-blue-600 transition-colors">
            Unit {{ booking.unit_code }}
          </h3>
          <div class="flex items-center text-sm text-slate-500 mt-1">
            <span class="font-medium text-slate-700">{{ booking.lease_start }}</span>
            <span class="mx-2 text-slate-300">‚Üí</span>
            <span class="font-medium text-slate-700">{{ booking.lease_end }}</span>
          </div>
        </div>
      </div>

      <div class="flex flex-row md:flex-col items-center md:items-end justify-between md:justify-center border-t md:border-t-0 pt-4 md:pt-0 border-slate-50">
        <div class="text-lg font-bold text-slate-900">
          ‚Çπ{{ booking.rent_snapshot }}<span class="text-xs text-slate-400 font-normal ml-1">/mo</span>
        </div>
        
        <span
          class="inline-flex items-center mt-1 px-3 py-1 rounded-full text-xs font-bold tracking-wide uppercase"
          [ngClass]="{
            'bg-amber-50 text-amber-600 border border-amber-100': booking.status === 'PENDING',
            'bg-emerald-50 text-emerald-600 border border-emerald-100': booking.status === 'APPROVED',
            'bg-rose-50 text-rose-600 border border-rose-100': booking.status === 'REJECTED'
          }">
          <span class="w-1.5 h-1.5 rounded-full mr-2" 
                [ngClass]="{
                  'bg-amber-500': booking.status === 'PENDING',
                  'bg-emerald-500': booking.status === 'APPROVED',
                  'bg-rose-500': booking.status === 'REJECTED'
                }"></span>
          {{ booking.status }}
        </span>
      </div>

    </div>
  </div>

</div>